<%# Seenlist %>
<div class="overlay-top-left is-flex is-flex-column buttons">
  <div class="button is-rounded is-flex has-opacity-75 button-expand is-cursor-default">
    <span class="icon is-small is-marginless">
      <i class="fas fa-eye"></i>
    </span>

    <div class="buttons is-centered button-message">

      <%= button_to seenlist_path(current_user.seenlists.find { |w| w.movie == movie }.id),
        method: :delete,
        remote: true,
        class: "button is-danger is-rounded is-small" do %>
        <span class="icon">
          <i class="fas fa-times"></i>
        </span>
      <% end %>

      <%= button_to seenlist_path(current_user.seenlists.find { |w| w.movie == movie }.id),
        method: :post,
        params: { "watchlist[movie_id]" => movie.id,
                  "watchlist[user_id]" => current_user.id,
                  "query" => @query },
                  remote: true,
                  class: "button is-rounded is-success is-small" do %>
                  <span class="icon" >
                    <i class="fas fa-check"></i>
                  </span>
                <% end %>

    </div>

  </div>

</div>

<%# Watchlist %>
<div class="overlay-top-right is-flex is-flex-column buttons">
  <% if current_user.watchlist_movies.include?(movie) %>
    <%= button_to watchlist_path(current_user.watchlists.find { |w| w.movie == movie }.id),
      method: :delete,
      remote: true,
      data: { tooltip: "Remove from Watchlist" },
      class: "button is-danger is-rounded is-small tooltip is-tooltip-danger is-tooltip-right" do %>
        <span class="icon is-marginless">
          <i class="fas fa-list"></i>
        </span>
    <% end %>


  <% else %>
    <%= button_to watchlists_path,
      method: :post,
      params: { "watchlist[movie_id]" => movie.id,
                "watchlist[user_id]" => current_user.id,
                "query" => @query },
      remote: true,
      data: { tooltip: "Add to Watchlist" },
      class: "button tooltip is-link is-rounded tooltip is-tooltip-link is-tooltip-right" do %>
        <span class="icon is-marginless">
          <i class="fas fa-plus"></i>
        </span>
    <% end %>
  <% end %>

    <%# Nominate Buttons %>
    <% unless @locked %>
      <%= render partial: "movies/nominate_button", locals: { movie: movie } %>
    <% end %>
</div>

